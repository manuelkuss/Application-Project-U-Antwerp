<div class="container">
  <h1 class="mb-4 text-center">Sequence Viewer</h1>

  <div class="mb-3">
    <label for="seq-id" class="form-label">Sequence ID</label>
    <input id="seq-id" type="number" class="form-control" [(ngModel)]="sequenceId" (ngModelChange)="onIdChange($event)"
      placeholder="Enter sequence ID..." />
  </div>

  <!-- Show spinner while sequenceData is loading -->
  <div *ngIf="!sequenceData && !errorMessage" class="d-flex justify-content-center align-items-center" style="height: 200px;">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>

  <div *ngIf="sequenceData">

    <h2 class="mt-2 mb-2">Sequence number: {{ sequenceData?.title }}</h2>

    <img class="img-fluid rounded border mb-2"
      [src]="sequencePlotPath + sequenceData?.id + '.png'"
      alt="Sequence plot" />

    <table class="table table-bordered table-striped">
      <tbody>
        <tr *ngFor="let col of columnKeys">
          <th>{{ col }}</th>
          <td>{{ sequenceData[col] }}</td>
        </tr>
      </tbody>
    </table>
  </div>

</div>
